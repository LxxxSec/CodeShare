# 将补丁包文件夹写入到容器的 /tmp/ 目录中
docker cp p20780171_1036_Generic/ weblogic1036jdk7u21:/tmp/.
docker cp p22248372_1036012_Generic/ weblogic1036jdk7u21:/tmp/.
# 进入容器
docker exec -it weblogic1036jdk7u21 /bin/bash
# 赋755权限
chmod 755 /tmp/p20780171_1036_Generic/
chmod 755 /tmp/p22248372_1036012_Generic/
# 创建补丁临时目录，移动补丁
cd /u01/app/oracle/middleware/utils/bsu/
mkdir -p /u01/app/oracle/middleware/utils/bsu/cache_dir
cp -f /tmp/p20780171_1036_Generic/* /u01/app/oracle/middleware/utils/bsu/cache_dir/
cp -f /tmp/p22248372_1036012_Generic/* /u01/app/oracle/middleware/utils/bsu/cache_dir/
# 把 -Xmx512m 改为 -Xmx1024m
vi bsu.sh
# 用 sed 替换也行，和上面 vi 二选一即可
sed -i 's/512/1024/g' /u01/app/oracle/middleware/utils/bsu/bsu.sh
# 安装补丁包
./bsu.sh -install -patch_download_dir=/u01/app/oracle/middleware/utils/bsu/cache_dir/ -patchlist=EJUW -prod_dir=/u01/app/oracle/middleware/wlserver/
./bsu.sh -install -patch_download_dir=/u01/app/oracle/middleware/utils/bsu/cache_dir/ -patchlist=ZLNA  -prod_dir=/u01/app/oracle/middleware/wlserver/ -verbose
